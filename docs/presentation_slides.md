# 智慧物业管理平台

**基于 Spring Boot + Vue 3 的全栈 Web 应用**

课程设计答辩 | 2025-10-15

---

# 目录

1. 项目概述
2. 技术架构  
3. 核心功能
4. 关键技术
5. 项目成果
6. 总结展望

---

# 1. 项目概述

---

## 项目背景

### 行业痛点

- 📝 **效率低下** - 纸质记录，查询困难
- ❌ **易出错** - 人工管理，数据不准确
- 🔍 **难追溯** - 历史记录缺失，责任不清

### 解决方案

**智慧物业管理平台** - 数字化转型利器

✅ 全流程数字化管理  
✅ 多角色权限控制  
✅ 实时数据统计分析

---

## 项目目标

### 四大核心目标

1. 🎯 **业务数字化**  
   物业、租约、维修、租金全流程在线化

2. 🎯 **权限精细化**  
   管理员、业主、租客三种角色差异化功能

3. 🎯 **数据安全化**  
   JWT认证、权限控制、操作审计

4. 🎯 **部署简单化**  
   Docker容器化，一键启动所有服务

---

## 项目价值

| 维度 | 价值体现 |
|------|---------|
| 📈 **管理效率** | 自动化流程，减少70%人工操作 |
| 🎯 **服务质量** | 实时响应，维修工单24h内处理 |
| 🔒 **数据安全** | 多层防护，审计日志全程追踪 |
| 📊 **决策支持** | 可视化图表，辅助经营决策 |

---

# 2. 技术架构

---

## 技术选型

### 前端技术栈

```
Vue 3 (组合式 API)
  ├─ Vite (构建工具)
  ├─ Pinia (状态管理)  
  ├─ Element Plus (UI组件)
  ├─ Axios (HTTP客户端)
  └─ ECharts (数据可视化)
```

### 后端技术栈

```
Spring Boot 3
  ├─ Spring Security (安全认证)
  ├─ Spring Data JPA (数据持久化)
  ├─ JWT (令牌认证)
  ├─ MySQL 8.0 (数据库)
  └─ Maven (构建工具)
```

---

## 系统架构

```
┌─────────────────────────────────┐
│      浏览器 (用户端)             │
└──────────────┬──────────────────┘
               │ HTTPS
┌──────────────┴──────────────────┐
│   Nginx (反向代理 + 静态资源)    │
└──────┬──────────────┬───────────┘
       │              │
   Vue 3 SPA      RESTful API
       │              │
┌──────┴────┐   ┌─────┴───────────┐
│  前端层   │   │  Spring Boot    │
│  (展示)   │   │  (业务逻辑)     │
└───────────┘   └─────┬───────────┘
                      │ JPA
                ┌─────┴─────┐
                │  MySQL    │
                │  (数据)   │
                └───────────┘
```

---

## 数据库设计

### 8大核心数据表

| 表名 | 说明 | 关键字段 |
|------|------|---------|
| `user` | 用户信息 | username, email, password |
| `role` | 角色定义 | name, description |
| `user_role` | 用户角色关联 | user_id, role_id |
| `property` | 物业信息 | address, status, rent |
| `lease` | 租约信息 | property_id, tenant_id, date |
| `payment` | 支付记录 | lease_id, amount, date |
| `maintenance_request` | 维修工单 | property_id, status |
| `refresh_token` | 刷新令牌 | token, expiry_date |

---

## 数据库设计亮点

### 阿里巴巴 MySQL 规范实践

✅ **禁用物理外键**  
通过应用层保证数据一致性，提升插入性能

✅ **统一审计字段**  
所有表包含 `gmt_create`、`gmt_modified`、`is_deleted`

✅ **逻辑删除设计**  
数据不物理删除，支持数据恢复与审计

✅ **索引优化策略**  
关键查询字段、外键字段均建立索引

---

# 3. 核心功能

---

## 功能架构

### 10大核心模块

```
智慧物业管理平台
│
├─ 用户管理 (注册/登录/权限)
├─ 物业管理 (CRUD + 图片 + 批量)
├─ 租约管理 (生命周期 + 提醒)
├─ 维修管理 (工单系统 + 状态)
├─ 支付管理 (记录 + 查询 + 导出)
├─ 通知系统 (14种类型 + 实时)
├─ 仪表盘 (统计 + 图表 + 定制)
├─ 文件管理 (上传 + 预览 + 删除)
├─ 数据导出 (Excel 5种类型)
└─ 安全审计 (日志 + 追踪)
```

---

## 用户与权限管理

### 三种角色，差异化功能

| 角色 | 权限范围 | 核心功能 |
|------|---------|---------|
| 👑 **管理员** | 全部数据 | 系统配置、用户管理、全局统计 |
| 🏢 **业主** | 自有物业 | 物业管理、租约审批、维修处理 |
| 🏠 **租客** | 相关租约 | 查看物业、提交维修、支付记录 |

### 安全机制

- JWT + HttpOnly Cookie (防XSS攻击)
- BCrypt 密码加密 (防彩虹表)
- 令牌自动刷新 (无感续期)

---

## 物业管理模块

### 核心功能

✅ **完整的CRUD操作**  
创建、查询、更新、删除物业信息

✅ **图片上传与管理**  
支持物业封面图片，本地文件存储

✅ **批量操作功能**  
批量删除、批量更新状态，提升效率

✅ **高级搜索筛选**  
关键词搜索 + 多维度筛选（类型、租金、卧室数）

### 物业状态管理

- 🟢 AVAILABLE - 可用
- 🔴 LEASED - 已出租  
- 🟡 UNDER_MAINTENANCE - 维修中

---

## 租约管理模块

### 业务流程

```
1. 业主创建租约
   ↓
2. 系统校验物业状态
   ↓
3. 自动更新物业状态 (AVAILABLE → LEASED)
   ↓
4. 发送通知给租客
   ↓
5. 定时检查到期 (每日凌晨)
   ↓
6. 租约结束，释放物业 (LEASED → AVAILABLE)
```

### 智能提醒

- 📅 租约到期前7天提醒
- 📅 租约到期前1天提醒
- 📅 租约已过期提醒

---

## 维修管理模块

### 工单生命周期

```
租客提交工单
  ↓
PENDING (待处理)
  ↓
业主/管理员接单
  ↓
IN_PROGRESS (处理中)
  ↓
维修完成
  ↓
COMPLETED (已完成)
```

### 功能特色

- 🔔 状态变更实时通知
- ⏱️ 完成时间自动记录
- 📊 按状态统计分析
- 🚫 支持取消工单

---

## 通知系统模块

### 14种通知类型

| 类型 | 触发场景 |
|------|---------|
| 📢 系统公告 | 管理员发布 |
| 🏠 物业创建 | 新物业上线 |
| 📝 租约签订 | 租约生效 |
| ⏰ 租约到期 | 到期提醒 |
| 🔧 维修提交 | 新工单 |
| ✅ 维修完成 | 工单完成 |
| 💰 支付确认 | 租金到账 |
| ... | ... |

### 特色功能

- 未读数量角标显示
- 批量标记已读
- 按类型筛选

---

## 数据统计与可视化

### 仪表盘展示

**角色定制化内容**

- 管理员：全局数据统计
- 业主：自有物业统计  
- 租客：个人租约信息

**ECharts 图表**

- 📊 物业状态分布（饼图）
- 📈 租金收入趋势（折线图）
- 📉 维修工单统计（柱状图）

### Excel 导出

支持5种数据类型批量导出

---

# 4. 关键技术

---

## 安全设计

### JWT 认证流程

```java
// 1. 用户登录
POST /api/auth/login
{ username, password }

// 2. 生成令牌
accessToken = JWT.create()
  .withSubject(userId)
  .withExpiresAt(15分钟后)
  .sign(secret);

// 3. HttpOnly Cookie 存储 (防XSS)
Cookie: access_token=xxx; HttpOnly; Secure

// 4. 请求携带令牌
GET /api/properties
Cookie: access_token=xxx

// 5. 后端验证并授权
if (JWT.verify(token)) {
  // 允许访问
}
```

---

## 性能优化

### 数据库层优化

✅ **索引优化**  
外键、状态字段、时间字段建立索引

✅ **分页查询**  
PageRequest + Page<T> 避免全表扫描

✅ **逻辑删除**  
`is_deleted` 标记，提升删除性能

✅ **禁用外键**  
应用层约束，提升插入性能30%+

---

## 性能优化 (续)

### 前端层优化

✅ **防抖搜索**  
500ms 延迟，减少无效请求

✅ **路由懒加载**  
按需加载组件，减少首屏时间

✅ **请求拦截**  
Axios 拦截器自动处理 401

✅ **图片压缩**  
上传前自动压缩，节省存储空间

---

## 数据一致性保证

### 事务管理示例

```java
@Transactional
public LeaseDto createLease(LeaseDto dto) {
  try {
    // 1. 创建租约
    Lease lease = leaseRepository.save(newLease);
    
    // 2. 更新物业状态
    property.setStatus(PropertyStatus.LEASED);
    propertyRepository.save(property);
    
    // 3. 发送通知
    notificationService.notify(lease);
    
    return leaseMapper.toDto(lease);
  } catch (Exception e) {
    // 自动回滚所有操作
    throw new BusinessException("创建租约失败");
  }
}
```

---

## 用户体验优化

### 响应式设计

- 📱 **移动端适配** - 375px ~ 768px
- 💻 **平板适配** - 768px ~ 1024px
- 🖥️ **桌面端适配** - 1024px+

### 交互优化

- ⏳ Loading 加载状态
- ✅ 操作成功提示  
- ❌ 错误信息展示
- ⚠️ 二次确认对话框
- 🔍 表单实时校验

---

# 5. 项目成果

---

## 功能完成度

### 核心功能 100% ✅

- ✅ 用户管理
- ✅ 物业管理  
- ✅ 租约管理
- ✅ 维修管理
- ✅ 支付管理
- ✅ 通知系统
- ✅ 数据统计
- ✅ 文件管理
- ✅ 数据导出
- ✅ 权限控制

### 高级功能 85% 🔄

- ✅ 批量操作
- ✅ 高级搜索
- ✅ 高级筛选
- 🔄 审计日志 (进行中)

---

## 代码统计

### 项目规模

| 模块 | 文件数 | 代码行数 | 占比 |
|------|--------|----------|------|
| 后端 (Java) | 80+ | 8,000+ | 47% |
| 前端 (Vue) | 50+ | 5,000+ | 29% |
| 数据库 (SQL) | 10+ | 1,000+ | 6% |
| 文档 (Markdown) | 15+ | 3,000+ | 18% |
| **总计** | **155+** | **17,000+** | **100%** |

### 技术债务

- 单元测试覆盖率: 40% → 目标 80%
- API 文档: 部分完成 → 集成 Swagger

---

## 系统演示

### 主要界面展示

1. **登录界面**  
   简洁设计 + 表单校验

2. **仪表盘**  
   数据卡片 + ECharts 图表

3. **物业管理**  
   列表/卡片视图 + 高级筛选

4. **租约管理**  
   时间轴展示 + 状态管理

5. **维修工单**  
   工单流程 + 状态跟踪

---

## 部署方案

### Docker 一键部署

```bash
# 1. 克隆项目
git clone https://github.com/[your-repo].git

# 2. 启动所有服务
cd CourseDesign
docker compose up --build

# 3. 访问系统
前端: http://localhost
后端: http://localhost:8080
数据库: localhost:3306
```

### 服务列表

- 🐳 MySQL 8.0 容器
- 🐳 Spring Boot 后端容器
- 🐳 Nginx + Vue 前端容器

**启动时间: 约 2 分钟**

---

# 6. 总结展望

---

## 技术收获

### 全栈开发能力提升

✅ **后端开发**  
Spring Boot 3 + Spring Security + JPA

✅ **前端开发**  
Vue 3 组合式 API + Pinia + Element Plus

✅ **数据库设计**  
MySQL 规范 + 索引优化 + 数据一致性

✅ **容器化部署**  
Docker + Docker Compose + Nginx

✅ **安全实践**  
JWT 认证 + RBAC 权限 + XSS 防护

---

## 项目亮点

### 五大核心优势

🏆 **业务完整性**  
覆盖物业管理全流程，从创建到收租

🏆 **权限精细化**  
三种角色，功能差异化，数据隔离

🏆 **用户体验优**  
响应式设计，防抖搜索，批量操作

🏆 **安全可靠**  
JWT + Cookie，密码加密，操作审计

🏆 **易于部署**  
Docker 容器化，一键启动，环境隔离

---

## 面临的挑战

### 开发过程中的难点

1. **跨域问题** 🌐  
   解决方案：CORS 配置 + Nginx 反向代理

2. **权限设计** 🔐  
   解决方案：Spring Security + 自定义过滤器

3. **数据一致性** 📊  
   解决方案：事务管理 + 应用层约束

4. **状态管理** 🔄  
   解决方案：Pinia 全局状态 + 持久化插件

---

## 优化方向

### 短期规划 (1-2周)

- 🔄 完成审计日志系统
- 🔄 提升单元测试覆盖率至 80%
- 🔄 集成 Swagger API 文档
- 🔄 添加数据自动备份功能

### 中期规划 (1-2月)

- 💡 引入 Redis 缓存，提升响应速度
- 💡 实现 WebSocket 实时通知推送
- 💡 添加财务报表与数据分析
- 💡 移动端 H5 页面开发

---

## 优化方向 (续)

### 长期规划 (3-6月)

- 🚀 微服务架构改造
- 🚀 引入消息队列 (RabbitMQ/Kafka)
- 🚀 AI 智能推荐系统
- 🚀 多租户 SaaS 化部署
- 🚀 国际化与多语言支持

### 技术升级

- Spring Boot 3 → Spring Boot 4
- Vue 3 → 持续升级最新版本
- MySQL 8.0 → PostgreSQL (可选)

---

## 经验总结

### 开发心得

💭 **需求分析很重要**  
先画 ER 图，再写代码，事半功倍

💭 **代码规范要遵守**  
阿里巴巴规范不是摆设，是血泪教训

💭 **文档要及时更新**  
今天不写，明天就忘，后人骂你

💭 **测试驱动开发好**  
先写测试，再写代码，bug 少 80%

💭 **沟通协作是关键**  
前后端联调，及时沟通，避免返工

---

## 感谢致谢

### 特别感谢

🙏 **指导老师**  
感谢老师的悉心指导和帮助

🙏 **开源社区**  
感谢 Spring、Vue、Element Plus 等优秀框架

🙏 **技术文档**  
感谢阿里巴巴规范、官方文档的参考价值

### 收获与成长

通过本次课程设计，我不仅掌握了全栈开发技能，更重要的是学会了：
- 如何分析和拆解复杂业务需求
- 如何设计可扩展的系统架构
- 如何编写高质量、可维护的代码
- 如何与团队协作完成项目目标

---

# 谢谢！

## 请各位老师批评指正

**项目地址**: https://github.com/[your-repo]  
**文档版本**: v2.0 | 2025-10-15  
**联系方式**: [Email] | [GitHub]

---

**Q & A**

欢迎提问 🙋‍♂️

